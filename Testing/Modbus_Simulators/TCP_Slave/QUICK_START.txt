===============================================================================
  MODBUS TCP SLAVE SIMULATOR - QUICK START GUIDE
===============================================================================

ğŸ“‚ FOLDER: Modbus_Slave_Simulator
ğŸ“Œ PURPOSE: Simulate Modbus TCP slave for testing SRT-MGATE-1210 Gateway

===============================================================================
ğŸš€ HOW TO RUN (3 STEPS)
===============================================================================

STEP 1: Install Dependencies
-----------------------------
    pip install -r requirements.txt

    Or manually:
    pip install pymodbus


STEP 2: Configure Network
--------------------------
Make sure your computer has IP: 192.168.1.8
(or change SERVER_IP in the script)

Windows:
    ipconfig

Linux/Mac:
    ifconfig


STEP 3: Run Simulator
----------------------
    python modbus_slave_5_registers.py

Press Enter when prompted to start server.


===============================================================================
ğŸ“Š REGISTER CONFIGURATION
===============================================================================

Slave Configuration:
  IP Address:      192.168.1.8
  Port:            502
  Slave ID:        1
  Function Code:   4 (Read Input Registers)

Registers (5 Input Registers):
  [0] Temperature  - Â°C   (20-35)
  [1] Humidity     - %    (40-80)
  [2] Pressure     - Pa   (900-1100)
  [3] Voltage      - V    (220-240)
  [4] Current      - A    (1-10)

Auto Update: Enabled (every 5 seconds)


===============================================================================
ğŸ”§ GATEWAY CONFIGURATION
===============================================================================

Use these settings in Device_Testing/create_device_5_registers.py:

Device Config:
  {
    "device_name": "TCP_Device_Test",
    "protocol": "TCP",
    "slave_id": 1,
    "timeout": 3000,
    "retry_count": 3,
    "refresh_rate_ms": 1000,
    "ip": "192.168.1.8",
    "port": 502
  }

Register Config (for each):
  {
    "type": "Input Registers",
    "function_code": 4,
    "data_type": "INT16"
  }


===============================================================================
âœ… SUCCESS INDICATORS
===============================================================================

When simulator runs successfully:

[INFO] Server is starting...
[INFO] Computer hostname: YOUR-PC
[INFO] Local IP address: 192.168.1.8
[INFO] Server listening on 192.168.1.8:502
[INFO] Slave ID: 1
[INFO] Ready for connections from SRT-MGATE-1210 Gateway

Update logs:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Update #0001 - Register Values:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [0] Temperature :    25 Â°C
  [1] Humidity    :    60 %
  [2] Pressure    :  1000 Pa
  [3] Voltage     :   230 V
  [4] Current     :     5 A
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


===============================================================================
ğŸ› TROUBLESHOOTING
===============================================================================

Problem: "Address already in use"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Port 502 is already used
  - Check if another program is using port 502
  - Change SERVER_PORT in script to 5020
  - Update gateway device config to match


Problem: "pymodbus not found"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  pip install pymodbus


Problem: Gateway cannot connect
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  1. Check simulator is running
  2. Verify IP address (192.168.1.8)
  3. Check firewall settings
  4. Ping 192.168.1.8 from gateway


Problem: No data changes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - Auto-update is enabled by default
  - Values update every 5 seconds
  - Check console output for updates


===============================================================================
ğŸ“ TESTING WORKFLOW
===============================================================================

1. START SIMULATOR
   â””â”€ python modbus_slave_5_registers.py

2. CREATE GATEWAY DEVICE
   â””â”€ cd ../Device_Testing
   â””â”€ python create_device_5_registers.py

3. VERIFY CONNECTION
   â””â”€ Check simulator console for connection logs
   â””â”€ Gateway should read register values

4. MONITOR DATA
   â””â”€ Simulator auto-updates every 5 seconds
   â””â”€ Gateway polls every 1 second (refresh_rate_ms)


===============================================================================
ğŸ” NETWORK CONFIGURATION
===============================================================================

To set IP 192.168.1.8 on your computer:

Windows:
  1. Control Panel â†’ Network Connections
  2. Right-click adapter â†’ Properties
  3. IPv4 â†’ Use the following IP address
  4. IP: 192.168.1.8
  5. Subnet: 255.255.255.0
  6. Gateway: 192.168.1.1

Linux:
  sudo ifconfig eth0 192.168.1.8 netmask 255.255.255.0

Mac:
  System Preferences â†’ Network â†’ Configure IPv4 â†’ Manually


===============================================================================
ğŸ“ SUPPORT
===============================================================================

PT Surya Inovasi Prioritas (SURIOTA)
R&D Team
ğŸ“§ support@suriota.com


===============================================================================

Ready to start? Run: python modbus_slave_5_registers.py

Good luck! ğŸš€

===============================================================================
